<mvc:View controllerName="lomanegra.cargas.controller.Main"
    xmlns="sap.m"
	xmlns:f="sap.f"
	xmlns:u="sap.ui.unified"
	xmlns:fb="sap.ui.comp.filterbar"
	xmlns:mvc="sap.ui.core.mvc">
	<f:DynamicPage id="page" showFooter="true" busy="{AppJsonModel>/busy}">
		
		<!-- DynamicPage Header -->
		<f:header>
			<f:DynamicPageHeader pinnable="false">
				<f:content>
					<fb:FilterBar persistencyKey="myPersKey" useToolbar="false" search=".onSearch" filterChange=".onFilterChange" afterVariantLoad=".onAfterVariantLoad" showFilterConfiguration="false" showClearOnFB="false" clear="onClearFilter" showGoOnFB="false">
						<fb:filterGroupItems>
							
							<fb:FilterGroupItem name="template" groupName="Group1" visibleInFilterBar="true" >
								<fb:control>
									<Button icon="sap-icon://download" text="{i18n>downloadTemplate}" press="onDownloadTemplate" />
								</fb:control>
							</fb:FilterGroupItem>

							<fb:FilterGroupItem name="file" groupName="Group1" visibleInFilterBar="true">
								<fb:control>
									<u:FileUploader buttonText="{i18n>UploaderButton}" id="fileUploader" sameFilenameAllowed="true" uploadOnChange="false" fileType="xlsx" change="onFileChange" placeholder="{i18n>uploadPlaceholder}" width="50%" />
								</fb:control>
							</fb:FilterGroupItem>
						</fb:filterGroupItems>
					</fb:FilterBar>
				</f:content>
			</f:DynamicPageHeader>
		</f:header>
		<!-- DynamicPage Content -->
		<f:content>
			

		</f:content>

		<f:footer>
			<OverflowToolbar>
				
				<Button
                    id="messagePopoverBtn"
                    text="{=${AppJsonModel>/ErrorsTerminar}.length}"
                    type="Reject"
                    icon="sap-icon://error"
                    visible="true"
                    press="onShowErrorsTerminar"
                />
				<ToolbarSpacer />
				<Button type="Default" text="{i18n>post}" press="onContabilizar" visible="{AppJsonModel>/visibleTable}">
					<layoutData>
						<OverflowToolbarLayoutData priority="NeverOverflow" />
					</layoutData>
				</Button>
			</OverflowToolbar>
		</f:footer>
	</f:DynamicPage>
</mvc:View>